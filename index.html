<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Haber Robotu – Otomatik Güncel Haberler</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="description" content="Türkiye ve dünyadan en güncel haberler. Saatlik otomatik yenilenen, telifsiz özet haber platformu.">
<meta property="og:title" content="Haber Robotu – Otomatik Güncel Haberler">
<meta property="og:description" content="Türkiye ve dünyadan en güncel haberler, her saat otomatik yenilenir.">
<meta property="og:url" content="https://newest-resu.github.io/">
<meta property="og:type" content="website">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6477894031302669"
crossorigin="anonymous"></script>

<style>
/* === MEVCUT TASARIM KORUNDU === */
:root{
--bg:#020617;--panel:#0f172a;--text:#e5e7eb;--muted:#9ca3af;--accent:#facc15;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
background:radial-gradient(circle at top,#1f2937,#020617);
color:var(--text);
}
a{text-decoration:none;color:inherit}
header{
position:sticky;top:8px;z-index:20;
background:rgba(15,23,42,.96);
border-radius:14px;padding:16px;
display:flex;gap:12px;flex-wrap:wrap;
}
.logo{
width:40px;height:40px;border-radius:12px;
background:linear-gradient(135deg,#facc15,#f97316);
display:flex;align-items:center;justify-content:center;
font-weight:900;color:#020617;
}
.toolbar{margin-top:16px;display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between}
.filters{display:flex;flex-wrap:wrap;gap:6px}
.btn-filter{
border-radius:999px;padding:6px 12px;
border:1px solid #1f2937;
background:#020617;color:#9ca3af;
cursor:pointer;font-size:13px;
}
.btn-filter.active{
background:rgba(250,204,21,.15);
border-color:#facc15;color:#fff;
}
.icon-btn{
width:36px;height:36px;border-radius:999px;
border:1px solid #334155;background:#020617;
display:flex;align-items:center;justify-content:center;
cursor:pointer;
}
.icon-btn.spin svg{animation:spin 1s linear infinite}
@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
.grid{margin-top:14px;display:flex;flex-direction:column;gap:12px}
.card{
display:grid;grid-template-columns:200px 1fr;gap:12px;
background:#020617;border:1px solid #1f2937;border-radius:14px;
padding:12px;
}
.thumb-wrap{border-radius:10px;overflow:hidden;background:#0f172a}
.thumb-wrap img{width:100%;height:100%;object-fit:cover}
.card-body{display:flex;flex-direction:column;gap:6px}
.meta-line{font-size:11px;color:#9ca3af;display:flex;gap:6px;flex-wrap:wrap}
.badge-cat{background:rgba(59,130,246,.15);padding:2px 8px;border-radius:999px}
.headline{font-size:16px;font-weight:700}
.summary{font-size:13px;color:#d1d5db}
.actions{display:flex;gap:8px;flex-wrap:wrap}
.btn-read{
background:#facc15;color:#020617;
border:none;border-radius:999px;padding:6px 12px;font-size:12px;font-weight:700;cursor:pointer
}
.btn-ghost{
border:1px solid #334155;border-radius:999px;
padding:6px 12px;font-size:12px;background:#020617;color:#e5e7eb
}
@media(max-width:768px){
.card{grid-template-columns:1fr}
.thumb-wrap{height:190px}
}
</style>
</head>

<body>
<div class="shell">

<header>
<div class="logo">HR</div>
<div>
<div style="font-size:20px;font-weight:700">Haber Robotu</div>
<div style="font-size:13px;color:#9ca3af">Saatlik otomatik güncel haberler</div>
</div>
</header>

<div class="toolbar">
<div class="filters">
<button class="btn-filter btn-filter-source active" data-source="all">Tüm Kaynaklar</button>
<button class="btn-filter btn-filter-source" data-source="tr">Türkiye</button>
<button class="btn-filter btn-filter-source" data-source="intl">Yabancı</button>
</div>
<div>
<button class="icon-btn" id="refreshBtn" title="Yenile">
<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#facc15" stroke-width="2">
<path d="M20 12a8 8 0 1 1-2.34-5.66"/>
<path d="M20 4v6h-6"/>
</svg>
</button>
<span id="status" style="font-size:12px;color:#9ca3af">Yükleniyor…</span>
</div>
</div>

<div class="toolbar">
<div class="filters">
<button class="btn-filter btn-filter-cat active" data-cat="all">Tümü</button>
<button class="btn-filter btn-filter-cat" data-cat="yerel">Yerel</button>
<button class="btn-filter btn-filter-cat" data-cat="gundem">Gündem</button>
<button class="btn-filter btn-filter-cat" data-cat="dunya">Dünya</button>
<button class="btn-filter btn-filter-cat" data-cat="ekonomi">Ekonomi</button>
<button class="btn-filter btn-filter-cat" data-cat="finans">Finans</button>
<button class="btn-filter btn-filter-cat" data-cat="spor">Spor</button>
<button class="btn-filter btn-filter-cat" data-cat="teknoloji">Teknoloji</button>
<button class="btn-filter btn-filter-cat" data-cat="saglik">Sağlık</button>
<button class="btn-filter btn-filter-cat" data-cat="bilim">Bilim</button>
<button class="btn-filter btn-filter-cat" data-cat="magazin">Magazin</button>
</div>
</div>

<div class="grid" id="news"></div>

</div>

<script>
let ALL=[],SRC="all",CAT="all";

function sourceType(url){
try{return new URL(url).hostname.endsWith(".tr")?"tr":"intl"}catch{return"intl"}
}

function classify(article){
const t=(article.title_tr||article.title||"").toLowerCase();
if(sourceType(article.url)==="tr"&&(t.includes("belediye")||t.includes("valilik")||t.includes("il ")) )return"yerel";
if(/borsa|bitcoin|kripto|altın|dolar|hisse/.test(t))return"finans";
if(/faiz|enflasyon|asgari|bütçe|vergi/.test(t))return"ekonomi";
if(/spor|maç|lig|transfer/.test(t))return"spor";
if(/teknoloji|yapay zeka|android|ios/.test(t))return"teknoloji";
if(/sağlık|hastane|ilaç|doktor/.test(t))return"saglik";
if(/bilim|nasa|uzay|araştırma/.test(t))return"bilim";
if(sourceType(article.url)==="intl")return"dunya";
return"gundem";
}

function render(){
const c=document.getElementById("news");c.innerHTML="";
ALL.filter(a=>{
if(SRC!=="all"&&sourceType(a.url)!==SRC)return false;
if(CAT!=="all"&&classify(a)!==CAT)return false;
return true;
}).forEach(a=>{
c.innerHTML+=`
<article class="card">
<div class="thumb-wrap">${a.image?`<img src="${a.image}" loading="lazy">`:""}</div>
<div class="card-body">
<div class="meta-line"><span class="badge-cat">${classify(a)}</span></div>
<div class="headline">${a.title_tr||a.title}</div>
<div class="summary">${a.summary_tr||a.summary||""}</div>
<div class="actions">
<a class="btn-read" href="${a.url}" target="_blank">Kaynağa Git</a>
</div>
</div>
</article>`;
});
}

async function load(force=false){
document.getElementById("refreshBtn").classList.add("spin");
const r=await fetch("news/latest.json"+(force?"?t="+Date.now():""));
const d=await r.json();
ALL=d.articles||[];
document.getElementById("status").textContent=`${ALL.length} haber yüklendi`;
render();
document.getElementById("refreshBtn").classList.remove("spin");
}

document.getElementById("refreshBtn").onclick=()=>load(true);

document.addEventListener("click",e=>{
const s=e.target.closest(".btn-filter-source");
if(s){document.querySelectorAll(".btn-filter-source").forEach(b=>b.classList.remove("active"));
s.classList.add("active");SRC=s.dataset.source;render();}
const c=e.target.closest(".btn-filter-cat");
if(c){document.querySelectorAll(".btn-filter-cat").forEach(b=>b.classList.remove("active"));
c.classList.add("active");CAT=c.dataset.cat;render();}
});

load(true);
</script>
</body>
</html>
